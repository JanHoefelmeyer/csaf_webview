<script lang="ts">
  export let values: any = [];
  export let label = "";
  import { appStore } from "$lib/store";
  const openProduct = (e: Event) => {
    // eslint-disable-next-line  @typescript-eslint/no-non-null-assertion
    let product: string = (e.target as Element).getAttribute("href")!;
    appStore.setProductTreeSectionVisible();
    appStore.setSelectedProduct(product);
    appStore.unshiftHistory((e.target as Element).id);
    e.preventDefault();
  };
</script>

<p>{label}</p>
<ul>
  {#each values as value}
    <li>
      <a id={crypto.randomUUID()} on:click={openProduct} href={value}
        >{$appStore.doc.productsByID[value]}</a
      >
    </li>
  {/each}
</ul>

<style>
  p {
    margin-bottom: 0;
  }
  ul {
    margin-top: 0;
    padding-left: 3rem;
    list-style-type: none;
  }
</style>
